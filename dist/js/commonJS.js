define(["vue"],function(a){var e=new a({el:"#header",created:function(){var a=this;a.Alltemplate(),a.loginDraw()},data:{loginDrawHTML:"",loginStatue:!1},watch:{loginStatue:function(a){a?console.log("成功"):console.log("失败")}},methods:{Alltemplate:function(){this.TMPheader=_.template('            <ul class="nav-menu fr"><% if (!haslogin) { %>                <li class="nav-li"><a href="http://www.ixm.gov.cn/sy/zczy/" target=_blank >注册指引</a></li>                <li id="loginbox" class="nav-li">                    <span><a href="/">登录</a></span>&nbsp;|                    <span><a href="/vue.html">注册</a></span>                </li><% } else { %>                <li id="hasloginbox" class="nav-li">                    <span><a href="/"><%=hello%> , <%=userName%></a></span>&nbsp;|                    <span><a href="http://www.ixm.gov.cn/ids/admin/logout.jsp">退出</a></span>                </li><% } %>            </ul>')},loginDraw:function(a,e){var n=this;$.ajax({url:"http://www.ixm.gov.cn/dis/interface/user_inferface_v1.0.jsp",type:"GET",async:!0,dataType:"jsonp",jsonp:"callback",jsonpCallback:"ssoUser_for_login",data:{},success:function(a){a.result?(n.loginDrawHTML=n.TMPheader({haslogin:a.result,hello:a.user.hello,userName:a.user.userName}),n.loginStatue=!0):(n.loginDrawHTML=n.TMPheader({haslogin:!1,userName:""}),n.loginStatue=!1)},error:function(){n.loginDrawHTML=n.TMPheader({haslogin:!1,userName:""}),n.loginStatue=!1}})},requset:function(){$.ajax({url:"/api/request",type:"GET",dataType:"html",data:{data:Math.random()},success:function(a){},erroe:function(){}})},setTimerFunc:function(){var a=this;setTimeout(function(){a.requset(),a.setTimerFunc()},6e3)}}});window.common=e});
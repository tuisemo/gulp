define(["vue","脚本commonJS","脚本MSG"],function(e){var a=new e({el:".wrap",created:function(){},data:{CodeLogin:!0,CitizenLogin:!0,qcodebtn:{code:"https://www.cmpassport.com/images/pc_change.png",img:"https://www.cmpassport.com/images/qrcode_change.png"},accountMsg:{loginKey:"",password:"",CitizenLogin:!0,loginCode:{value:"",MsgNum:401,imgsrc:"http://www.ixm.gov.cn/ids/admin/abc.code"}},bannerstyle:{background:"url(https://unsplash.it/1500/900?blur&random="+Math.random()+")"},userName:{value:"",MsgNum:101},Tel:{value:"",MsgNum:201},validateCode:{value:"",MsgNum:401,imgsrc:"http://www.ixm.gov.cn/dis/passport/authCode/show"},Password:{value:"",cvalue:"",MsgNum:501},inputfile:{seen:!1,src:""},sendMsgBtn:{}},methods:{commonMsg:function(e,a,s){var t=$(e),o=t.parents(".form-group"),n=o.find(".help-block");a===!0?(o.removeClass("has-success has-warring has-error").addClass("has-success"),n.html(MSG.true)):(o.removeClass("has-success has-warring has-error").addClass("has-error"),n.html(MSG.false+MSG[s]))},commonReset:function(e){var a=$(e.currentTarget),s=a.parents(".form-group"),t=s.find(".help-block"),o=a.attr("data-msgnum");s.removeClass("has-success has-warring has-error"),t.html(MSG[o])},changeLoginType:function(){var e=this;e.CitizenLogin=!e.CitizenLogin},codeLoginType:function(){var e=this;e.CodeLogin=!e.CodeLogin},checkuserName:function(e){var a=this,s=e.target,t=a.userName.value;/^[a-zA-Z][a-zA-Z0-9_]{2,19}$/.test(t)?$.ajax({url:"/api/checkUserAttribute",type:"post",dataType:"json",data:{attributeValue:t,attributeName:"userName"},success:function(e){200==e.code?a.commonMsg(s,!0,101):a.commonMsg(s,!1,103)}}):a.commonMsg(s,!1,102)},checkTel:function(e){var a=this,s=e.target,t=a.Tel.value;/^((13[0-9])|(14[0-9])|(15[0-9])|(17[2-9])|(18[0-9]))\d{8}$/.test(t)?$.ajax({url:"/api/checkUserAttribute",type:"POST",dataType:"json",data:{attributeName:"mobile",attributeValue:t},success:function(e){200==e.code?a.commonMsg(s,!0):a.commonMsg(s,!1,203)}}):a.commonMsg(s,!1,202)},checkvalidateCode:function(e){var a=this,s=e.target;if(""===a.validateCode.value)return!1;$.ajax({url:"/api/authCode/check",type:"GET",dataType:"json",data:{Code:a.validateCode.value},success:function(e){200==e.code?a.commonMsg(s,!0):a.commonMsg(s,!1,402)}})},reloadvalidate:function(){var e=this;e.validateCode.value="",e.validateCode.imgsrc="http://www.ixm.gov.cn/dis/passport/authCode/show?random="+Math.random(),e.accountMsg.loginCode.value="",e.accountMsg.loginCode.imgsrc="http://www.ixm.gov.cn/ids/admin/abc.code?random="+Math.random()},checkpassword:function(e){var a=this,s=e.target,t=a.Password.value;/[A-Za-z].*[0-9]|[0-9].*[A-Za-z]/.test(t)?t.length<8||t.length>30?a.commonMsg(s,!1,504):$.ajax({url:"/api/checkUserPwd",type:"GET",dataType:"text",data:{userName:a.userName.value||"",password:t},success:function(e){"success"===e.split(",")[0]?a.commonMsg(s,!0):a.commonMsg(s,!1,503)}}):a.commonMsg(s,!1,502)},confirmpwd:function(){alert("ok")},checkIDnumber:function(e){if(18!=e.length)return!1;"x"==e[17]&&(e=e.replace("x","X"));for(var a,s=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],t=["1","0","X","9","8","7","6","5","4","3","2"],o=0,n=0;n<=16;n++)o+=e[n]*s[n];return a=o%11,e[17]==t[a]}}});window.app=a});